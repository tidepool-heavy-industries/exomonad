cabal-version: 3.0
name: tidepool-semantic-scout
version: 0.1.0.0
synopsis: Semantic code scout exposed as MCP tool
description:
  First working example of LLMNode as MCP tool - explores codebases using LSP.
  Integrates with the training-generator for producing fine-tuning data.
license: MIT
author: Tidepool
maintainer: noreply@tidepool.com
category: Development
build-type: Simple

common warnings
  ghc-options: -Wall -Wcompat -Wno-orphans

library
  import: warnings
  exposed-modules:
    Tidepool.Agents.Scout.Types
    Tidepool.Agents.Scout.Explore
    Tidepool.Agents.Scout.Gemma
    Tidepool.Agents.Scout.Heuristics
    Tidepool.Agents.Scout.LSP
  hs-source-dirs: src
  default-language: GHC2021
  default-extensions:
    DeriveAnyClass
    DeriveGeneric
    DerivingStrategies
    OverloadedStrings
    OverloadedRecordDot
    RecordWildCards
    DataKinds
    TypeFamilies
    TypeOperators
    LambdaCase

  build-depends:
      base >= 4.17 && < 5
    , aeson >= 2.1 && < 3
    , containers >= 0.6 && < 1
    , directory
    , freer-simple
    , text >= 2.0 && < 3
    , tidepool-core
    , tidepool-lsp-interpreter
    , tidepool-training-generator

executable semantic-scout
  import: warnings
  main-is: Main.hs
  hs-source-dirs: src
  other-modules:
    Tidepool.Agents.Scout.Types
    Tidepool.Agents.Scout.Explore
    Tidepool.Agents.Scout.Gemma
    Tidepool.Agents.Scout.Heuristics
    Tidepool.Agents.Scout.LSP
  default-language: GHC2021
  default-extensions:
    DeriveAnyClass
    DeriveGeneric
    DerivingStrategies
    OverloadedStrings
    OverloadedRecordDot
    TypeApplications
    DataKinds
    TypeFamilies
    TypeOperators
    LambdaCase
  ghc-options: -threaded -rtsopts -with-rtsopts=-N

  build-depends:
      base >= 4.17 && < 5
    , aeson >= 2.1 && < 3
    , containers >= 0.6 && < 1
    , directory
    , freer-simple
    , text >= 2.0 && < 3
    , tidepool-core
    , tidepool-lsp-interpreter
    , tidepool-semantic-scout
    , tidepool-training-generator
    , tidepool-mcp-server
