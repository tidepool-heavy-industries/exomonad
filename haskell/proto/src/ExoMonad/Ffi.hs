{-# LANGUAGE DataKinds #-}
{-# LANGUAGE DeriveAnyClass #-}
{-# LANGUAGE DeriveGeneric #-}
{-# LANGUAGE GADTs #-}
{-# LANGUAGE NamedFieldPuns #-}
{-# LANGUAGE NegativeLiterals #-}
{-# LANGUAGE OverloadedStrings #-}
{-# LANGUAGE TypeApplications #-}
{-# LANGUAGE TypeOperators #-}
{-# OPTIONS_GHC -fno-warn-missing-export-lists #-}
{-# OPTIONS_GHC -fno-warn-name-shadowing #-}
{-# OPTIONS_GHC -fno-warn-unused-imports #-}
{-# OPTIONS_GHC -fno-warn-unused-matches #-}

-- | Generated by Haskell protocol buffer compiler. DO NOT EDIT!
module ExoMonad.Ffi where

import Control.Applicative ((<$>), (<*>), (<|>))
import Control.Applicative qualified as Hs
import Control.DeepSeq qualified as Hs
import Control.Monad qualified as Hs
import Data.ByteString qualified as Hs
import Data.Coerce qualified as Hs
import Data.Int qualified as Hs (Int16, Int32, Int64)
import Data.List.NonEmpty qualified as Hs (NonEmpty (..))
import Data.Map qualified as Hs (Map, mapKeysMonotonic)
import Data.Proxy qualified as Proxy
import Data.String qualified as Hs (fromString)
import Data.Text.Lazy qualified as Hs (Text)
import Data.Vector qualified as Hs (Vector)
import Data.Word qualified as Hs (Word16, Word32, Word64)
import GHC.Enum qualified as Hs
import GHC.Generics qualified as Hs
import Google.Protobuf.Wrappers.Polymorphic qualified as HsProtobuf
  ( Wrapped (..),
  )
import Proto3.Suite.Class qualified as HsProtobuf
import Proto3.Suite.DotProto qualified as HsProtobufAST
import Proto3.Suite.JSONPB ((.:), (.=))
import Proto3.Suite.JSONPB qualified as HsJSONPB
import Proto3.Suite.Types qualified as HsProtobuf
import Proto3.Wire qualified as HsProtobuf
import Proto3.Wire.Decode qualified as HsProtobuf
  ( Parser,
    RawField,
  )
import Unsafe.Coerce qualified as Hs
import Prelude qualified as Hs

data ErrorCode
  = ErrorCodeERROR_CODE_UNSPECIFIED
  | ErrorCodeERROR_CODE_NOT_FOUND
  | ErrorCodeERROR_CODE_NOT_AUTHENTICATED
  | ErrorCodeERROR_CODE_GIT_ERROR
  | ErrorCodeERROR_CODE_IO_ERROR
  | ErrorCodeERROR_CODE_NETWORK_ERROR
  | ErrorCodeERROR_CODE_INVALID_INPUT
  | ErrorCodeERROR_CODE_INTERNAL_ERROR
  | ErrorCodeERROR_CODE_TIMEOUT
  | ErrorCodeERROR_CODE_ALREADY_EXISTS
  deriving (Hs.Show, Hs.Eq, Hs.Generic, Hs.NFData)

instance (HsProtobuf.Named ErrorCode) where
  nameOf _ = Hs.fromString "ErrorCode"

instance (HsProtobuf.HasDefault ErrorCode)

instance (Hs.Bounded ErrorCode) where
  minBound = ErrorCodeERROR_CODE_UNSPECIFIED
  maxBound = ErrorCodeERROR_CODE_ALREADY_EXISTS

instance (Hs.Ord ErrorCode) where
  compare x y =
    Hs.compare
      (HsProtobuf.fromProtoEnum x)
      (HsProtobuf.fromProtoEnum y)

instance (HsProtobuf.ProtoEnum ErrorCode) where
  toProtoEnumMay 0 = Hs.Just ErrorCodeERROR_CODE_UNSPECIFIED
  toProtoEnumMay 1 = Hs.Just ErrorCodeERROR_CODE_NOT_FOUND
  toProtoEnumMay 2 = Hs.Just ErrorCodeERROR_CODE_NOT_AUTHENTICATED
  toProtoEnumMay 3 = Hs.Just ErrorCodeERROR_CODE_GIT_ERROR
  toProtoEnumMay 4 = Hs.Just ErrorCodeERROR_CODE_IO_ERROR
  toProtoEnumMay 5 = Hs.Just ErrorCodeERROR_CODE_NETWORK_ERROR
  toProtoEnumMay 6 = Hs.Just ErrorCodeERROR_CODE_INVALID_INPUT
  toProtoEnumMay 7 = Hs.Just ErrorCodeERROR_CODE_INTERNAL_ERROR
  toProtoEnumMay 8 = Hs.Just ErrorCodeERROR_CODE_TIMEOUT
  toProtoEnumMay 9 = Hs.Just ErrorCodeERROR_CODE_ALREADY_EXISTS
  toProtoEnumMay _ = Hs.Nothing
  fromProtoEnum ErrorCodeERROR_CODE_UNSPECIFIED = 0
  fromProtoEnum ErrorCodeERROR_CODE_NOT_FOUND = 1
  fromProtoEnum ErrorCodeERROR_CODE_NOT_AUTHENTICATED = 2
  fromProtoEnum ErrorCodeERROR_CODE_GIT_ERROR = 3
  fromProtoEnum ErrorCodeERROR_CODE_IO_ERROR = 4
  fromProtoEnum ErrorCodeERROR_CODE_NETWORK_ERROR = 5
  fromProtoEnum ErrorCodeERROR_CODE_INVALID_INPUT = 6
  fromProtoEnum ErrorCodeERROR_CODE_INTERNAL_ERROR = 7
  fromProtoEnum ErrorCodeERROR_CODE_TIMEOUT = 8
  fromProtoEnum ErrorCodeERROR_CODE_ALREADY_EXISTS = 9

instance (HsJSONPB.ToJSONPB ErrorCode) where
  toJSONPB x _ = HsJSONPB.enumFieldString x
  toEncodingPB x _ = HsJSONPB.enumFieldEncoding x

instance (HsJSONPB.FromJSONPB ErrorCode) where
  parseJSONPB (HsJSONPB.String "ERROR_CODE_UNSPECIFIED") =
    Hs.pure ErrorCodeERROR_CODE_UNSPECIFIED
  parseJSONPB (HsJSONPB.String "ERROR_CODE_NOT_FOUND") =
    Hs.pure ErrorCodeERROR_CODE_NOT_FOUND
  parseJSONPB (HsJSONPB.String "ERROR_CODE_NOT_AUTHENTICATED") =
    Hs.pure ErrorCodeERROR_CODE_NOT_AUTHENTICATED
  parseJSONPB (HsJSONPB.String "ERROR_CODE_GIT_ERROR") =
    Hs.pure ErrorCodeERROR_CODE_GIT_ERROR
  parseJSONPB (HsJSONPB.String "ERROR_CODE_IO_ERROR") =
    Hs.pure ErrorCodeERROR_CODE_IO_ERROR
  parseJSONPB (HsJSONPB.String "ERROR_CODE_NETWORK_ERROR") =
    Hs.pure ErrorCodeERROR_CODE_NETWORK_ERROR
  parseJSONPB (HsJSONPB.String "ERROR_CODE_INVALID_INPUT") =
    Hs.pure ErrorCodeERROR_CODE_INVALID_INPUT
  parseJSONPB (HsJSONPB.String "ERROR_CODE_INTERNAL_ERROR") =
    Hs.pure ErrorCodeERROR_CODE_INTERNAL_ERROR
  parseJSONPB (HsJSONPB.String "ERROR_CODE_TIMEOUT") =
    Hs.pure ErrorCodeERROR_CODE_TIMEOUT
  parseJSONPB (HsJSONPB.String "ERROR_CODE_ALREADY_EXISTS") =
    Hs.pure ErrorCodeERROR_CODE_ALREADY_EXISTS
  parseJSONPB v = HsJSONPB.typeMismatch "ErrorCode" v

instance (HsJSONPB.ToJSON ErrorCode) where
  toJSON = HsJSONPB.toAesonValue
  toEncoding = HsJSONPB.toAesonEncoding

instance (HsJSONPB.FromJSON ErrorCode) where
  parseJSON = HsJSONPB.parseJSONPB

instance (HsProtobuf.Finite ErrorCode)

data ErrorContext
  = ErrorContext
  { errorContextCommand :: Hs.Text,
    errorContextExitCode :: Hs.Int32,
    errorContextStderr :: Hs.Text,
    errorContextStdout :: Hs.Text,
    errorContextFilePath :: Hs.Text,
    errorContextWorkingDir :: Hs.Text
  }
  deriving (Hs.Show, Hs.Eq, Hs.Ord, Hs.Generic)

instance (Hs.NFData ErrorContext)

instance (HsProtobuf.Named ErrorContext) where
  nameOf _ = Hs.fromString "ErrorContext"

instance (HsProtobuf.HasDefault ErrorContext)

instance (HsProtobuf.Message ErrorContext) where
  encodeMessage
    _
    ErrorContext
      { errorContextCommand,
        errorContextExitCode,
        errorContextStderr,
        errorContextStdout,
        errorContextFilePath,
        errorContextWorkingDir
      } =
      Hs.mappend
        ( Hs.mappend
            ( Hs.mappend
                ( Hs.mappend
                    ( Hs.mappend
                        ( HsProtobuf.encodeMessageField
                            (HsProtobuf.FieldNumber 1)
                            ( (Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text))
                                errorContextCommand
                            )
                        )
                        ( HsProtobuf.encodeMessageField
                            (HsProtobuf.FieldNumber 2)
                            errorContextExitCode
                        )
                    )
                    ( HsProtobuf.encodeMessageField
                        (HsProtobuf.FieldNumber 3)
                        ( (Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text))
                            errorContextStderr
                        )
                    )
                )
                ( HsProtobuf.encodeMessageField
                    (HsProtobuf.FieldNumber 4)
                    ( (Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text))
                        errorContextStdout
                    )
                )
            )
            ( HsProtobuf.encodeMessageField
                (HsProtobuf.FieldNumber 5)
                ( (Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text))
                    errorContextFilePath
                )
            )
        )
        ( HsProtobuf.encodeMessageField
            (HsProtobuf.FieldNumber 6)
            ( (Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text))
                errorContextWorkingDir
            )
        )
  decodeMessage _ =
    Hs.pure ErrorContext
      <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 1)
              )
          )
      <*> HsProtobuf.at
        HsProtobuf.decodeMessageField
        (HsProtobuf.FieldNumber 2)
      <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 3)
              )
          )
      <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 4)
              )
          )
      <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 5)
              )
          )
      <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 6)
              )
          )
  dotProto _ =
    [ HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 1)
        (HsProtobufAST.Prim HsProtobufAST.String)
        (HsProtobufAST.Single "command")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 2)
        (HsProtobufAST.Prim HsProtobufAST.Int32)
        (HsProtobufAST.Single "exit_code")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 3)
        (HsProtobufAST.Prim HsProtobufAST.String)
        (HsProtobufAST.Single "stderr")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 4)
        (HsProtobufAST.Prim HsProtobufAST.String)
        (HsProtobufAST.Single "stdout")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 5)
        (HsProtobufAST.Prim HsProtobufAST.String)
        (HsProtobufAST.Single "file_path")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 6)
        (HsProtobufAST.Prim HsProtobufAST.String)
        (HsProtobufAST.Single "working_dir")
        []
        ""
    ]

instance (HsJSONPB.ToJSONPB ErrorContext) where
  toJSONPB (ErrorContext f1 f2 f3 f4 f5 f6) =
    HsJSONPB.object
      [ "command"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f1),
        "exit_code" .= f2,
        "stderr" .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f3),
        "stdout" .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f4),
        "file_path"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f5),
        "working_dir"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f6)
      ]
  toEncodingPB (ErrorContext f1 f2 f3 f4 f5 f6) =
    HsJSONPB.pairs
      [ "command"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f1),
        "exit_code" .= f2,
        "stderr" .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f3),
        "stdout" .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f4),
        "file_path"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f5),
        "working_dir"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f6)
      ]

instance (HsJSONPB.FromJSONPB ErrorContext) where
  parseJSONPB =
    HsJSONPB.withObject
      "ErrorContext"
      ( \obj ->
          Hs.pure ErrorContext
            <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
                    (obj .: "command")
                )
            <*> obj .: "exit_code"
            <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
                    (obj .: "stderr")
                )
            <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
                    (obj .: "stdout")
                )
            <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
                    (obj .: "file_path")
                )
            <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
                    (obj .: "working_dir")
                )
      )

instance (HsJSONPB.ToJSON ErrorContext) where
  toJSON = HsJSONPB.toAesonValue
  toEncoding = HsJSONPB.toAesonEncoding

instance (HsJSONPB.FromJSON ErrorContext) where
  parseJSON = HsJSONPB.parseJSONPB

data FfiError
  = FfiError
  { ffiErrorMessage :: Hs.Text,
    ffiErrorCode :: (HsProtobuf.Enumerated ExoMonad.Ffi.ErrorCode),
    ffiErrorContext :: (Hs.Maybe ExoMonad.Ffi.ErrorContext),
    ffiErrorSuggestion :: Hs.Text
  }
  deriving (Hs.Show, Hs.Eq, Hs.Ord, Hs.Generic)

instance (Hs.NFData FfiError)

instance (HsProtobuf.Named FfiError) where
  nameOf _ = Hs.fromString "FfiError"

instance (HsProtobuf.HasDefault FfiError)

instance (HsProtobuf.Message FfiError) where
  encodeMessage
    _
    FfiError
      { ffiErrorMessage,
        ffiErrorCode,
        ffiErrorContext,
        ffiErrorSuggestion
      } =
      Hs.mappend
        ( Hs.mappend
            ( Hs.mappend
                ( HsProtobuf.encodeMessageField
                    (HsProtobuf.FieldNumber 1)
                    ( (Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text))
                        ffiErrorMessage
                    )
                )
                ( HsProtobuf.encodeMessageField
                    (HsProtobuf.FieldNumber 2)
                    ffiErrorCode
                )
            )
            ( HsProtobuf.encodeMessageField
                (HsProtobuf.FieldNumber 3)
                ( ( Hs.coerce
                      @(Hs.Maybe ExoMonad.Ffi.ErrorContext)
                      @(HsProtobuf.Nested ExoMonad.Ffi.ErrorContext)
                  )
                    ffiErrorContext
                )
            )
        )
        ( HsProtobuf.encodeMessageField
            (HsProtobuf.FieldNumber 4)
            ( (Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text))
                ffiErrorSuggestion
            )
        )
  decodeMessage _ =
    Hs.pure FfiError
      <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 1)
              )
          )
      <*> HsProtobuf.at
        HsProtobuf.decodeMessageField
        (HsProtobuf.FieldNumber 2)
      <*> ( ( HsProtobuf.coerceOver
                @(HsProtobuf.Nested ExoMonad.Ffi.ErrorContext)
                @(Hs.Maybe ExoMonad.Ffi.ErrorContext)
            )
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 3)
              )
          )
      <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
              ( HsProtobuf.at
                  HsProtobuf.decodeMessageField
                  (HsProtobuf.FieldNumber 4)
              )
          )
  dotProto _ =
    [ HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 1)
        (HsProtobufAST.Prim HsProtobufAST.String)
        (HsProtobufAST.Single "message")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 2)
        ( HsProtobufAST.Prim
            (HsProtobufAST.Named (HsProtobufAST.Single "ErrorCode"))
        )
        (HsProtobufAST.Single "code")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 3)
        ( HsProtobufAST.Prim
            (HsProtobufAST.Named (HsProtobufAST.Single "ErrorContext"))
        )
        (HsProtobufAST.Single "context")
        []
        "",
      HsProtobufAST.DotProtoField
        (HsProtobuf.FieldNumber 4)
        (HsProtobufAST.Prim HsProtobufAST.String)
        (HsProtobufAST.Single "suggestion")
        []
        ""
    ]

instance (HsJSONPB.ToJSONPB FfiError) where
  toJSONPB (FfiError f1 f2 f3 f4) =
    HsJSONPB.object
      [ "message"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f1),
        "code" .= f2,
        "context"
          .= ( ( Hs.coerce
                   @(Hs.Maybe ExoMonad.Ffi.ErrorContext)
                   @(HsProtobuf.Nested ExoMonad.Ffi.ErrorContext)
               )
                 f3
             ),
        "suggestion"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f4)
      ]
  toEncodingPB (FfiError f1 f2 f3 f4) =
    HsJSONPB.pairs
      [ "message"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f1),
        "code" .= f2,
        "context"
          .= ( ( Hs.coerce
                   @(Hs.Maybe ExoMonad.Ffi.ErrorContext)
                   @(HsProtobuf.Nested ExoMonad.Ffi.ErrorContext)
               )
                 f3
             ),
        "suggestion"
          .= ((Hs.coerce @Hs.Text @(HsProtobuf.String Hs.Text)) f4)
      ]

instance (HsJSONPB.FromJSONPB FfiError) where
  parseJSONPB =
    HsJSONPB.withObject
      "FfiError"
      ( \obj ->
          Hs.pure FfiError
            <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
                    (obj .: "message")
                )
            <*> obj .: "code"
            <*> ( ( HsProtobuf.coerceOver
                      @(HsProtobuf.Nested ExoMonad.Ffi.ErrorContext)
                      @(Hs.Maybe ExoMonad.Ffi.ErrorContext)
                  )
                    (obj .: "context")
                )
            <*> ( (HsProtobuf.coerceOver @(HsProtobuf.String Hs.Text) @Hs.Text)
                    (obj .: "suggestion")
                )
      )

instance (HsJSONPB.ToJSON FfiError) where
  toJSON = HsJSONPB.toAesonValue
  toEncoding = HsJSONPB.toAesonEncoding

instance (HsJSONPB.FromJSON FfiError) where
  parseJSON = HsJSONPB.parseJSONPB

newtype FfiResult
  = FfiResult {ffiResultResult :: (Hs.Maybe FfiResultResult)}
  deriving (Hs.Show, Hs.Eq, Hs.Ord, Hs.Generic)

instance (Hs.NFData FfiResult)

instance (HsProtobuf.Named FfiResult) where
  nameOf _ = Hs.fromString "FfiResult"

instance (HsProtobuf.HasDefault FfiResult)

instance (HsProtobuf.Message FfiResult) where
  encodeMessage _ FfiResult {ffiResultResult} =
    ( case ffiResultResult of
        Hs.Nothing -> Hs.mempty
        Hs.Just x ->
          case x of
            FfiResultResultSuccessPayload y ->
              HsProtobuf.encodeMessageField
                (HsProtobuf.FieldNumber 1)
                ( HsProtobuf.ForceEmit
                    ((Hs.coerce @Hs.ByteString @(HsProtobuf.Bytes Hs.ByteString)) y)
                )
            FfiResultResultError y ->
              HsProtobuf.encodeMessageField
                (HsProtobuf.FieldNumber 2)
                ( ( Hs.coerce
                      @(Hs.Maybe ExoMonad.Ffi.FfiError)
                      @(HsProtobuf.Nested ExoMonad.Ffi.FfiError)
                  )
                    (Hs.Just y)
                )
    )
  decodeMessage _ =
    Hs.pure FfiResult
      <*> HsProtobuf.oneof
        Hs.Nothing
        [ ( (HsProtobuf.FieldNumber 1),
            Hs.pure (Hs.Just Hs.. FfiResultResultSuccessPayload)
              <*> ( ( HsProtobuf.coerceOver
                        @(HsProtobuf.Bytes Hs.ByteString)
                        @Hs.ByteString
                    )
                      HsProtobuf.decodeMessageField
                  )
          ),
          ( (HsProtobuf.FieldNumber 2),
            Hs.pure (Hs.fmap FfiResultResultError)
              <*> ( ( HsProtobuf.coerceOver
                        @(HsProtobuf.Nested ExoMonad.Ffi.FfiError)
                        @(Hs.Maybe ExoMonad.Ffi.FfiError)
                    )
                      HsProtobuf.decodeMessageField
                  )
          )
        ]
  dotProto _ = []

instance (HsJSONPB.ToJSONPB FfiResult) where
  toJSONPB (FfiResult f1_or_f2) =
    HsJSONPB.object
      [ ( let encodeResult =
                ( case f1_or_f2 of
                    Hs.Just (FfiResultResultSuccessPayload f1) ->
                      HsJSONPB.pair
                        "success_payload"
                        ((Hs.coerce @Hs.ByteString @(HsProtobuf.Bytes Hs.ByteString)) f1)
                    Hs.Just (FfiResultResultError f2) -> HsJSONPB.pair "error" f2
                    Hs.Nothing -> Hs.mempty
                )
           in ( \options ->
                  if HsJSONPB.optEmitNamedOneof options
                    then
                      ("result" .= HsJSONPB.objectOrNull [encodeResult] options) options
                    else
                      encodeResult options
              )
        )
      ]
  toEncodingPB (FfiResult f1_or_f2) =
    HsJSONPB.pairs
      [ ( let encodeResult =
                ( case f1_or_f2 of
                    Hs.Just (FfiResultResultSuccessPayload f1) ->
                      HsJSONPB.pair
                        "success_payload"
                        ((Hs.coerce @Hs.ByteString @(HsProtobuf.Bytes Hs.ByteString)) f1)
                    Hs.Just (FfiResultResultError f2) -> HsJSONPB.pair "error" f2
                    Hs.Nothing -> Hs.mempty
                )
           in ( \options ->
                  if HsJSONPB.optEmitNamedOneof options
                    then
                      ("result" .= HsJSONPB.pairsOrNull [encodeResult] options) options
                    else
                      encodeResult options
              )
        )
      ]

instance (HsJSONPB.FromJSONPB FfiResult) where
  parseJSONPB =
    HsJSONPB.withObject
      "FfiResult"
      ( \obj ->
          Hs.pure FfiResult
            <*> ( let parseResult parseObj =
                        Hs.msum
                          [ Hs.Just
                              Hs.. FfiResultResultSuccessPayload
                              Hs.. (Hs.coerce @(HsProtobuf.Bytes Hs.ByteString) @Hs.ByteString)
                              <$> HsJSONPB.parseField parseObj "success_payload",
                            Hs.Just Hs.. FfiResultResultError
                              <$> HsJSONPB.parseField parseObj "error",
                            Hs.pure Hs.Nothing
                          ]
                   in (obj .: "result" Hs.>>= HsJSONPB.withObject "result" parseResult)
                        <|> (parseResult obj)
                )
      )

instance (HsJSONPB.ToJSON FfiResult) where
  toJSON = HsJSONPB.toAesonValue
  toEncoding = HsJSONPB.toAesonEncoding

instance (HsJSONPB.FromJSON FfiResult) where
  parseJSON = HsJSONPB.parseJSONPB

data FfiResultResult
  = FfiResultResultSuccessPayload Hs.ByteString
  | FfiResultResultError ExoMonad.Ffi.FfiError
  deriving (Hs.Show, Hs.Eq, Hs.Ord, Hs.Generic)

instance (Hs.NFData FfiResultResult)

instance (HsProtobuf.Named FfiResultResult) where
  nameOf _ = Hs.fromString "FfiResultResult"
