# tidepool-generated-ts - Generated TypeScript Protocol & Dispatcher

**AUTO-GENERATED** - TypeScript protocol types and dispatcher generated from Haskell metadata.

## What This Is

Generated TypeScript code providing:
- Protocol types matching Haskell `WireTypes.hs` (SerializableEffect, EffectResult, etc.)
- Effect routing table (internal vs yielded effects)
- WASM loader and JSFFI implementation
- Type-safe dispatcher for effect execution

## Generation

Generated by running:
```bash
cd tidepool-wasm
cabal run generate-ts-package -- ../deploy/tidepool-generated-ts
```

Output goes to `deploy/tidepool-generated-ts/` (the version consumed by the Cloudflare Worker).

## DO NOT MANUALLY EDIT

This package is generated from Haskell metadata. Changes will be overwritten.

To modify:
1. Update Haskell types in `tidepool-wasm/src/Tidepool/Wasm/WireTypes.hs`
2. Update metadata in `tidepool-generated-ts/src/Tidepool/Generated/TS.hs`
3. Regenerate: `cabal run generate-ts-package -- ../deploy/tidepool-generated-ts`

## Files

| File | Purpose |
|------|---------|
| `protocol.ts` | Wire types (SerializableEffect, EffectResult, GraphInfo, etc.) |
| `routing.ts` | Effect category routing (internal vs yielded) |
| `dispatcher.ts` | Type-safe effect dispatcher |
| `loader.ts` | WASM module loader with GHC RTS setup |
| `jsffi.ts` | JavaScript FFI for GHC WASM |
| `graphs.ts` | Graph registry metadata |
| `handlers.generated.ts` | Generated effect handler stubs |

## Related Documentation

- [tidepool-wasm/CLAUDE.md](../tidepool-wasm/CLAUDE.md) - Source Haskell types (WireTypes.hs) and generator
- [tidepool-core/CLAUDE.md](../tidepool-core/CLAUDE.md) - Graph DSL and effect definitions
- [deploy/CLAUDE.md](../deploy/CLAUDE.md) - Cloudflare Worker harness that uses these types
- [Root CLAUDE.md](../CLAUDE.md) - Project overview
