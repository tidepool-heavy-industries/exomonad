// Auto-generated by generate-ts-package - DO NOT EDIT

import type { SerializableEffect } from './protocol.js';

export type EffectCategory = 'internal' | 'yielded';
export type EffectSemantics = 'fire_and_forget' | 'blocking';

export function getEffectCategory(effect: SerializableEffect): EffectCategory {
  switch (effect.type) {
    case "LogInfo": return "internal";
    case "LogError": return "internal";
    case "LlmComplete": return "internal";
    case "LlmCall": return "internal";
    case "Habitica": return "internal";
    case "TelegramAsk": return "yielded";
    case "telegram_send": return "yielded";
    case "telegram_receive": return "yielded";
    case "telegram_try_receive": return "yielded";
    default:
      // Exhaustiveness check: unknown effects default to internal
      return 'internal';
  }
}

export function getEffectSemantics(effect: SerializableEffect): EffectSemantics {
  switch (effect.type) {
    case "LogInfo": return "fire_and_forget";
    case "LogError": return "fire_and_forget";
    case "LlmComplete": return "blocking";
    case "LlmCall": return "blocking";
    case "Habitica": return "blocking";
    case "TelegramAsk": return "blocking";
    case "telegram_send": return "fire_and_forget";
    case "telegram_receive": return "blocking";
    case "telegram_try_receive": return "fire_and_forget";
    default:
      // Exhaustiveness check: unknown effects default to blocking
      return 'blocking';
  }
}

export function isYieldedEffect(effect: SerializableEffect): boolean {
  return getEffectCategory(effect) === 'yielded';
}

export function isInternalEffect(effect: SerializableEffect): boolean {
  return getEffectCategory(effect) === 'internal';
}

export function isBlockingEffect(effect: SerializableEffect): boolean {
  return getEffectSemantics(effect) === 'blocking';
}
