// Auto-generated by generate-ts-package - DO NOT EDIT

import type { SerializableEffect } from './protocol.js';

export type EffectCategory = 'internal' | 'yielded';
export type EffectSemantics = 'fire_and_forget' | 'blocking';

export function getEffectCategory(effect: SerializableEffect): EffectCategory {
  switch (effect.type) {
    case "Log": return "internal";
    case "LLM": return "internal";
    case "State": return "internal";
    case "Random": return "internal";
    case "Time": return "internal";
    case "ChatHistory": return "internal";
    case "Emit": return "yielded";
    case "RequestInput": return "yielded";
    case "QuestionUI": return "yielded";
    default:
      // Exhaustiveness check: unknown effects default to internal
      return 'internal';
  }
}

export function getEffectSemantics(effect: SerializableEffect): EffectSemantics {
  switch (effect.type) {
    case "Log": return "fire_and_forget";
    case "LLM": return "blocking";
    case "State": return "blocking";
    case "Random": return "blocking";
    case "Time": return "blocking";
    case "ChatHistory": return "blocking";
    case "Emit": return "fire_and_forget";
    case "RequestInput": return "blocking";
    case "QuestionUI": return "blocking";
    default:
      // Exhaustiveness check: unknown effects default to blocking
      return 'blocking';
  }
}

export function isYieldedEffect(effect: SerializableEffect): boolean {
  return getEffectCategory(effect) === 'yielded';
}

export function isInternalEffect(effect: SerializableEffect): boolean {
  return getEffectCategory(effect) === 'internal';
}

export function isBlockingEffect(effect: SerializableEffect): boolean {
  return getEffectSemantics(effect) === 'blocking';
}
