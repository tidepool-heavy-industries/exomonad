packages:
    -- Vendored packages (patched for our use)

    -- Core DSL
    haskell/dsl/core
    haskell/dsl/teaching

    -- Runtime
    haskell/runtime/wasm
    haskell/runtime/actor
    -- NOTE: tidepool-parallel merged into tidepool-actor
    haskell/platform

    -- Effect interpreters
    haskell/effects/llm-interpreter
    haskell/effects/env-interpreter
    haskell/effects/habitica-interpreter
    haskell/effects/ui-interpreter
    haskell/effects/observability-interpreter
    haskell/effects/lsp-interpreter
    haskell/effects/ghci-interpreter
    haskell/effects/github-interpreter
    haskell/effects/git-interpreter
    haskell/effects/worktree-interpreter
    haskell/effects/cabal-interpreter
    haskell/effects/justfile-interpreter
    haskell/effects/devlog-interpreter
    haskell/effects/gemini-interpreter
    haskell/effects/filesystem-interpreter
    haskell/effects/zellij-interpreter

    -- Effect types (standalone)
    haskell/effects/habitica

    -- Protocol
    haskell/protocol/wire-types
    haskell/protocol/generated-ts

    -- Native server
    haskell/native-server

    -- Control server (Claude Code++ TCP endpoint)
    haskell/control-server

    -- Tools
    haskell/tools/training-generator

    -- Test/example packages
    -- types-first-dev  -- DISABLED: depends on removed session-interpreter (headless orchestration)
    -- human-driven-dev  -- DISABLED: depends on removed session-interpreter (headless orchestration)
    -- types-first-dev/test-repo  -- disabled: empty directory, no cabal file

    -- Vendored dependencies
    haskell/vendor/freer-simple
    haskell/vendor/ginger

-- Disabled packages:
-- (none currently)

-- Use GHC 9.6+ for best GHC2021 support
-- with-compiler: ghc-9.6

-- Allow newer for effectful ecosystem
allow-newer: all

-- Fast builds by default (no optimizations)
-- Use `cabal build -O1` or `-O2` for release builds
optimization: 0

-- Use nix zlib (compatible with nix GHC toolchain)
package zlib
  extra-lib-dirs: /nix/store/l7xwm1f6f3zj2x8jwdbi8gdyfbx07sh7-zlib-1.3.1/lib
  extra-include-dirs: /nix/store/hqvsiah013yzb17b13fn18fpqk7m13cg-zlib-1.3.1-dev/include

-- Vendored forks (see deps/):
-- - ginger: typed templates + dependency tracking (tree API)
--   upstream: https://github.com/inanna-malick/ginger @ 25af8c8
-- - freer-simple: GHC 9.10/9.12 compatibility (PR #45, not yet merged upstream)
--   upstream: https://github.com/georgefst/freer-simple @ e1d88c1

source-repository-package
  type: git
  location: https://github.com/iand675/hs-opentelemetry
  subdir: api sdk exporters/otlp
