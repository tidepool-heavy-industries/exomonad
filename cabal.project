packages:
    tidepool-core
    tidepool-wasm
    tidepool-generated-ts
    tidepool-habitica

    -- Native GUI packages (Agent 0 scaffolding)
    tidepool-native-gui/wire-types
    tidepool-native-gui/ui-executor
    tidepool-native-gui/habitica-executor
    tidepool-native-gui/observability-executor
    tidepool-native-gui/llm-executor
    tidepool-native-gui/issue-executor
    tidepool-native-gui/lsp-executor
    tidepool-native-gui/bd-executor
    tidepool-native-gui/github-executor
    tidepool-native-gui/claude-code-executor
    tidepool-native-gui/devlog-executor
    tidepool-native-gui/server

    -- Tooling packages (Agent 8)
    tools/sleeptime-logs
    tools/impact-analysis

    -- Vendored dependencies (avoid source-repository-package git issues in worktrees)
    deps/freer-simple
    deps/ginger

    -- Platform package (enabled for CLI with LLM effects)
    tidepool-platform

-- Disabled packages:
-- template            -- unused template skeleton
-- tidepool-telegram-hs -- types only, not used by tidepool-wasm

-- Use GHC 9.6+ for best GHC2021 support
-- with-compiler: ghc-9.6

-- Allow newer for effectful ecosystem
allow-newer: all

-- Use nix zlib (compatible with nix GHC toolchain)
package zlib
  extra-lib-dirs: /nix/store/l7xwm1f6f3zj2x8jwdbi8gdyfbx07sh7-zlib-1.3.1/lib
  extra-include-dirs: /nix/store/hqvsiah013yzb17b13fn18fpqk7m13cg-zlib-1.3.1-dev/include

-- Vendored forks (see deps/):
-- - ginger: typed templates + dependency tracking (tree API)
--   upstream: https://github.com/inanna-malick/ginger @ 25af8c8
-- - freer-simple: GHC 9.10/9.12 compatibility (PR #45, not yet merged upstream)
--   upstream: https://github.com/georgefst/freer-simple @ e1d88c1
